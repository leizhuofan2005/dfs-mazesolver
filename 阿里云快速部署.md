# 阿里云快速部署指南

## 🎯 推荐方案：容器服务 ACK（最简单）

### 第一步：获取访问凭证

1. 登录阿里云控制台：https://ecs.console.aliyun.com
2. 鼠标悬停在右上角头像 → **AccessKey 管理**
3. 创建 AccessKey，保存：
   - **AccessKey ID**
   - **AccessKey Secret**

### 第二步：开通服务

1. **容器镜像服务 ACR**
   - 访问：https://cr.console.aliyun.com
   - 开通服务（免费）
   - 创建命名空间（例如：`algorithm-games`）

2. **容器服务 Kubernetes 版 ACK**
   - 访问：https://cs.console.aliyun.com
   - 创建集群（选择按量付费，测试可用最小配置）

### 第三步：使用脚本自动部署

#### Windows (PowerShell)

```powershell
# 设置环境变量
$env:ALIBABA_CLOUD_ACCESS_KEY_ID = "你的AccessKeyId"
$env:ALIBABA_CLOUD_ACCESS_KEY_SECRET = "你的AccessKeySecret"

# 运行部署脚本
.\aliyun_deploy.ps1 -AccessKeyId $env:ALIBABA_CLOUD_ACCESS_KEY_ID `
                    -AccessKeySecret $env:ALIBABA_CLOUD_ACCESS_KEY_SECRET `
                    -Region "cn-hangzhou" `
                    -Namespace "你的命名空间"
```

#### Linux/Mac

```bash
# 设置环境变量
export ALIBABA_CLOUD_ACCESS_KEY_ID="你的AccessKeyId"
export ALIBABA_CLOUD_ACCESS_KEY_SECRET="你的AccessKeySecret"

# 运行部署脚本
chmod +x aliyun_deploy.sh
./aliyun_deploy.sh $ALIBABA_CLOUD_ACCESS_KEY_ID $ALIBABA_CLOUD_ACCESS_KEY_SECRET cn-hangzhou 你的命名空间
```

### 第四步：在 ACK 中创建应用

1. 登录阿里云控制台
2. 进入 **容器服务 Kubernetes 版**
3. 选择你的集群
4. 点击 **应用** → **无状态** → **使用镜像创建**
5. 配置：
   - **应用名称**: `algorithm-games`
   - **镜像**: `registry.cn-hangzhou.aliyuncs.com/你的命名空间/algorithm-games:latest`
   - **端口**: `8000`
   - **环境变量**: 
     - `ALLOWED_ORIGINS=*`
6. 点击 **创建**

### 第五步：配置访问

1. 创建 **服务（Service）**
   - 类型：**负载均衡**
   - 端口：`8000`
2. 创建 **Ingress**（可选，用于域名访问）
   - 配置域名
   - 申请 SSL 证书

---

## 💡 更简单的方案：函数计算 FC（Serverless）

如果你不想管理 Kubernetes，可以使用函数计算：

1. **构建并推送镜像**（使用上面的脚本）
2. **创建函数**：
   - 访问：https://fc.console.aliyun.com
   - 创建服务和应用
   - 选择 **容器镜像** 运行时
   - 选择你的镜像
3. **配置 HTTP 触发器**
4. **获取访问地址**

---

## 📝 需要的信息

部署前请准备：
- ✅ AccessKey ID
- ✅ AccessKey Secret  
- ✅ 地域（Region，例如：`cn-hangzhou`）
- ✅ ACR 命名空间名称

---

## 🆘 遇到问题？

1. 查看 `阿里云部署指南.md` 获取详细说明
2. 查看阿里云官方文档
3. 检查 Docker 镜像是否成功推送

