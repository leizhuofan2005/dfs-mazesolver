# ğŸš€ è·å– Web åº”ç”¨è®¿é—®åœ°å€ - æœ€ç»ˆè¯´æ˜

## âœ… å½“å‰å·²å®Œæˆ

1. âœ… **kubectl å·²å®‰è£…**ï¼ˆç‰ˆæœ¬ 1.34.1ï¼‰
2. âœ… **éƒ¨ç½²é…ç½®æ–‡ä»¶å·²å‡†å¤‡**ï¼š`ack-deployment.yaml`
3. âœ… **è‡ªåŠ¨åŒ–è„šæœ¬å·²åˆ›å»º**ï¼š`deploy-and-get-url.ps1`

## ğŸ¯ è·å–è®¿é—®åœ°å€çš„ 3 ä¸ªæ­¥éª¤

### æ­¥éª¤ 1: ç¡®ä¿é•œåƒå·²æ„å»º

åœ¨ ACR æ§åˆ¶å°æ£€æŸ¥å¹¶æ„å»ºé•œåƒï¼š

1. ç™»å½•ï¼šhttps://cr.console.aliyun.com
2. åˆ›å»ºå‘½åç©ºé—´ï¼š`algorithm-games`ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
3. åˆ›å»ºé•œåƒä»“åº“ï¼š`algorithm-games`ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
4. é…ç½®æ„å»ºè§„åˆ™ï¼š
   - Dockerfile è·¯å¾„ï¼š`./Dockerfile`
   - æ„å»ºä¸Šä¸‹æ–‡ï¼š`/`
   - æ„å»ºç‰ˆæœ¬ï¼š`latest`
5. è§¦å‘æ„å»ºï¼Œç­‰å¾…å®Œæˆï¼ˆçº¦ 5-10 åˆ†é’Ÿï¼‰

**é•œåƒåœ°å€**ï¼š`registry.cn-hangzhou.aliyuncs.com/algorithm-games/algorithm-games:latest`

### æ­¥éª¤ 2: é…ç½® kubectl è¿æ¥åˆ° ACK

1. **ç™»å½• ACK æ§åˆ¶å°**ï¼šhttps://cs.console.aliyun.com
2. **é€‰æ‹©æˆ–åˆ›å»ºé›†ç¾¤**ï¼š
   - å¦‚æœå·²æœ‰é›†ç¾¤ï¼Œé€‰æ‹©å®ƒ
   - å¦‚æœæ²¡æœ‰ï¼Œåˆ›å»ºæ–°é›†ç¾¤ï¼ˆæ ‡å‡†æ‰˜ç®¡é›†ç¾¤ï¼Œæœ€å°é…ç½®å³å¯ï¼‰
3. **è·å– kubeconfig**ï¼š
   - ç‚¹å‡»é›†ç¾¤ â†’ **è¿æ¥ä¿¡æ¯** æˆ– **é›†ç¾¤ä¿¡æ¯**
   - å¤åˆ¶ kubeconfig å†…å®¹
   - ä¿å­˜ä¸º `kubeconfig.yaml`ï¼ˆä¿å­˜åœ¨é¡¹ç›®ç›®å½•ï¼‰
4. **åœ¨æ–° PowerShell ç»ˆç«¯ä¸­è®¾ç½®**ï¼š
   ```powershell
   cd C:\Users\think\Documents\GitHub\dfs-mazesolver
   $env:KUBECONFIG = "kubeconfig.yaml"
   kubectl get nodes  # æµ‹è¯•è¿æ¥
   ```

### æ­¥éª¤ 3: éƒ¨ç½²å¹¶è·å–è®¿é—®åœ°å€

åœ¨æ–° PowerShell ç»ˆç«¯ä¸­è¿è¡Œï¼š

```powershell
cd C:\Users\think\Documents\GitHub\dfs-mazesolver
$env:KUBECONFIG = "kubeconfig.yaml"
.\deploy-and-get-url.ps1
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… åº”ç”¨éƒ¨ç½²é…ç½®
- âœ… ç­‰å¾… Pod å¯åŠ¨
- âœ… è·å–å¹¶æ˜¾ç¤ºå¤–éƒ¨è®¿é—®åœ°å€

**è®¿é—®åœ°å€æ ¼å¼**ï¼š`http://ä½ çš„å¤–éƒ¨IP`

## ğŸ”„ å¦‚æœè„šæœ¬æ— æ³•è¿è¡Œ

æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```powershell
# 1. è®¾ç½® kubeconfig
$env:KUBECONFIG = "kubeconfig.yaml"

# 2. åº”ç”¨éƒ¨ç½²é…ç½®
kubectl apply -f ack-deployment.yaml

# 3. ç­‰å¾… Pod å¯åŠ¨ï¼ˆçº¦ 30 ç§’ï¼‰
Start-Sleep -Seconds 30

# 4. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
kubectl get svc algorithm-games-service -n default

# 5. è·å–å¤–éƒ¨ IP
$svc = kubectl get svc algorithm-games-service -n default -o json | ConvertFrom-Json
$externalIP = $svc.status.loadBalancer.ingress[0].ip
if (-not $externalIP) {
    $externalIP = $svc.status.loadBalancer.ingress[0].hostname
}
Write-Host "è®¿é—®åœ°å€: http://$externalIP"
```

## ğŸ“‹ å¿«é€Ÿæ£€æŸ¥æ¸…å•

åœ¨è¿è¡Œéƒ¨ç½²è„šæœ¬å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] ACR é•œåƒå·²æ„å»ºå®Œæˆ
- [ ] ACK é›†ç¾¤å·²åˆ›å»º
- [ ] kubeconfig å·²ä¿å­˜ä¸º `kubeconfig.yaml`
- [ ] åœ¨æ–° PowerShell ç»ˆç«¯ä¸­è¿è¡Œï¼ˆkubectl éœ€è¦æ–°ç»ˆç«¯ï¼‰

## ğŸŒ è·å–è®¿é—®åœ°å€

éƒ¨ç½²æˆåŠŸåï¼ŒLoadBalancer ä¼šåœ¨ 1-2 åˆ†é’Ÿå†…åˆ†é…å¤–éƒ¨ IPã€‚

**æŸ¥çœ‹è®¿é—®åœ°å€**ï¼š
```powershell
kubectl get svc algorithm-games-service -n default
```

**æˆ–è€…é€šè¿‡æ§åˆ¶å°æŸ¥çœ‹**ï¼š
1. ç™»å½•ï¼šhttps://cs.console.aliyun.com
2. é€‰æ‹©é›†ç¾¤ â†’ **æœåŠ¡** â†’ **æœåŠ¡**
3. æ‰¾åˆ° `algorithm-games-service`
4. æŸ¥çœ‹ **å¤–éƒ¨ç«¯ç‚¹**

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: kubectl å‘½ä»¤æ‰¾ä¸åˆ°ï¼Ÿ
A: è¯·åœ¨æ–°æ‰“å¼€çš„ PowerShell ç»ˆç«¯ä¸­è¿è¡Œï¼ˆç¯å¢ƒå˜é‡å·²æ›´æ–°ï¼‰

### Q: é•œåƒæ‹‰å–å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ï¼š
- é•œåƒæ˜¯å¦å·²æ„å»ºå®Œæˆ
- é•œåƒåœ°å€æ˜¯å¦æ­£ç¡®
- ACR ç™»å½•å‡­è¯æ˜¯å¦æ­£ç¡®

### Q: æœåŠ¡æ²¡æœ‰å¤–éƒ¨ IPï¼Ÿ
A: 
- ç­‰å¾… 1-2 åˆ†é’Ÿè®© LoadBalancer åˆ†é… IP
- æ£€æŸ¥æœåŠ¡ç±»å‹æ˜¯å¦ä¸º LoadBalancer
- åœ¨ ACK æ§åˆ¶å°æŸ¥çœ‹æœåŠ¡çŠ¶æ€

### Q: Pod å¯åŠ¨å¤±è´¥ï¼Ÿ
A: æŸ¥çœ‹æ—¥å¿—ï¼š
```powershell
kubectl logs -n default -l app=algorithm-games
kubectl describe pod -n default -l app=algorithm-games
```

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. kubectl ç‰ˆæœ¬ï¼š`kubectl version --client`
2. é›†ç¾¤è¿æ¥çŠ¶æ€ï¼š`kubectl get nodes`
3. Pod çŠ¶æ€ï¼š`kubectl get pods -n default`
4. æœåŠ¡çŠ¶æ€ï¼š`kubectl get svc -n default`

---

**é‡è¦æç¤º**ï¼šè¯·åœ¨æ–°æ‰“å¼€çš„ PowerShell ç»ˆç«¯ä¸­è¿è¡Œæ‰€æœ‰ kubectl å‘½ä»¤ï¼


