# 构建镜像方法

## 📋 当前情况

你的仓库类型是"本地仓库"，可能不支持自动构建规则。有两种方法可以构建镜像：

## 方法 1: 使用本地 Docker 构建并推送（推荐）

### 步骤 1: 检查 Docker 是否安装

```powershell
docker --version
```

如果没有安装，请先安装 Docker Desktop。

### 步骤 2: 登录 ACR

从你的控制台页面，我看到你的仓库地址是：
```
crpi-yvms4cndr4xq7550.cn-hangzhou.personal.cr.aliyuncs.com
```

登录命令：
```powershell
docker login --username=hi312*****@aliyun.com crpi-yvms4cndr4xq7550.cn-hangzhou.personal.cr.aliyuncs.com
```

**注意**：
- 用户名是你的完整阿里云账号邮箱
- 密码是激活服务时设置的密码（不是 AccessKey）
- 如果忘记密码，可以在 ACR 控制台的"访问凭证"中重置

### 步骤 3: 构建并推送镜像

```powershell
# 进入项目目录
cd C:\Users\think\Documents\GitHub\dfs-mazesolver

# 构建镜像
docker build -t algorithm-games .

# 打标签（使用你的实际仓库地址）
docker tag algorithm-games crpi-yvms4cndr4xq7550.cn-hangzhou.personal.cr.aliyuncs.com/algorithm-games/algorithm-games:latest

# 推送镜像
docker push crpi-yvms4cndr4xq7550.cn-hangzhou.personal.cr.aliyuncs.com/algorithm-games/algorithm-games:latest
```

---

## 方法 2: 查找构建规则（如果支持）

### 检查左侧导航

1. 查看是否有"构建"或"构建规则"选项
2. 查看"触发器"选项（有些版本把构建规则放在这里）
3. 查看页面顶部是否有"构建"标签

### 如果找不到构建规则

这说明你的仓库类型（本地仓库）可能不支持自动构建。建议使用方法 1（本地 Docker 构建）。

---

## 🚀 快速脚本

我已经创建了自动化脚本，运行：

```powershell
.\快速构建脚本.ps1
```

但需要先修改脚本中的仓库地址为你的实际地址。

---

## 📝 获取正确的仓库地址

从你的控制台页面，我看到：

**公网地址**：`crpi-yvms4cndr4xq7550.cn-hangzhou.personal.cr.aliyuncs.com`

完整的镜像地址应该是：
```
crpi-yvms4cndr4xq7550.cn-hangzhou.personal.cr.aliyuncs.com/algorithm-games/algorithm-games:latest
```

---

## 🔍 如果找不到构建规则

1. **检查仓库类型**：如果是"本地仓库"，通常不支持自动构建
2. **升级到企业版**：企业版支持自动构建功能
3. **使用本地构建**：这是最简单可靠的方法

---

## ✅ 构建完成后

构建完成后，镜像会出现在"镜像版本"标签页中，然后就可以部署到 ACK 了。


